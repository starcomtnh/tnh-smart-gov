<?xml version="1.0" encoding="UTF-8" ?>

<Server version="8">
    <Name>OvenMediaEngine</Name>
    <Type>origin</Type>
    <IP>*</IP>
    <PrivacyProtection>false</PrivacyProtection>
    <Modules>
        <HTTP2>
            <Enable>true</Enable>
        </HTTP2>
        <LLHLS>
            <Enable>true</Enable>
        </LLHLS>
    </Modules>
    <Managers>
        <API>
            <AccessToken>ivms:Zxcvbnm123!@#</AccessToken>
            <CrossDomains>
                <Url>*</Url>
            </CrossDomains>
        </API>
    </Managers>
    <Bind>
        <Managers>
            <API>
                <TLSPort>8085</TLSPort>
            </API>
        </Managers>
        <Providers>
            <RTSPC>
                <WorkerCount>1</WorkerCount>
            </RTSPC>
        </Providers>
        <Publishers>
            <LLHLS>
                <TLSPort>10005</TLSPort>
                <WorkerCount>1</WorkerCount>
            </LLHLS>
        </Publishers>
    </Bind>

    <VirtualHosts>
        <VirtualHost include="VHost*.xml"/>
        <VirtualHost>
            <Name>default</Name>
            <Distribution>vienthongtayninh.vn</Distribution>
            <Host>
                <Names>
                    <Name>*</Name>
                </Names>
                <TLS>
                    <CertPath>./cert.crt</CertPath>
                    <KeyPath>./cert.key</KeyPath>
                    <ChainCertPath>./cert.ca-bundle</ChainCertPath>
                </TLS>
            </Host>
            <CrossDomains>
                <Url>*</Url>
            </CrossDomains>
            <Applications>
                <Application>
                    <Name>app</Name>
                    <Type>live</Type>
                    <OutputProfiles>
                        <OutputProfile>
                            <Name>bypass_stream</Name>
                            <OutputStreamName>${OriginStreamName}</OutputStreamName>
                            <Encodes>
                                <Video>
                                    <Bypass>true</Bypass>
                                </Video>
                                <Audio>
                                    <Bypass>true</Bypass>
                                </Audio>
                            </Encodes>
                        </OutputProfile>
                    </OutputProfiles>
                    <Providers>
                        <RTSPPull/>
                    </Providers>
                    <Publishers>
                        <LLHLS>
                            <ChunkDuration>0.2</ChunkDuration>
                            <SegmentDuration>6</SegmentDuration>
                            <SegmentCount>10</SegmentCount>
                            <CrossDomains>
                                <Url>*</Url>
                            </CrossDomains>
                        </LLHLS>
                    </Publishers>
                </Application>
            </Applications>
        </VirtualHost>
    </VirtualHosts>
</Server>